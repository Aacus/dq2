fn main() {
    println!("//// [FC]ドラゴンクエスト2攻略 (https://www.aacus.art/2022/02/10-3.html)\n////  by エイカサート (https://aacus.art)\n");
    help();
    loop {
        let mut com = String::new();
        std::io::stdin().read_line(&mut com).unwrap();
        let comm: Vec<&str> = com.splitn(2, ' ').collect();
        match comm[0].trim() {
            "" => help(),
            "ro" => ro(comm[1].trim().parse::<i32>().unwrap_or(0), 0),
            "sa" => sa(comm[1].trim().parse::<i32>().unwrap_or(0), 0),
            "mu" => mu(comm[1].trim().parse::<i32>().unwrap_or(0), 0),
            "lv" => { ro(0, comm[1].trim().parse::<i32>().unwrap_or(1)); sa(0, comm[1].trim().parse::<i32>().unwrap_or(1)); mu(0, comm[1].trim().parse::<i32>().unwrap_or(1)); }
            "ju" => jumon(),
            "bu" => buki(),
            "bo" => bougu(),
            "do" => dougu(),
            _ => (),
        }
    }
}
fn help() {
    println!("Enter(機能一覧) bu(武器) bo(防具) do(道具) ju(呪文) ku(くじ絵柄)\nro 経験値数(ローレシア:次LVまで)\nsa 経験値数(サマルトリア:次LVまで)\nmu 経験値数(ムーンブルク:次LVまで)\nlv LV数(全員のステータス)")
}
fn ro(ex: i32, lv: i32) {
    // 経験値からLVとステータスと残りのEXを表示
    let mut lv = lv;
    if lv == 0 {
        // EX指定なら次レベルを判定
        match ex {
            0..=11 => lv = 2,
            12..=31 => lv = 3,
            32..=71 => lv = 4,
            72..=139 => lv = 5,
            140..=279 => lv = 6,
            280..=559 => lv = 7,
            560..=999 => lv = 8,
            1000..=1799 => lv = 9,
            1800..=2799 => lv = 10,
            2800..=3899 => lv = 11,
            3900..=5299 => lv = 12,
            5300..=7599 => lv = 13,
            7600..=9999 => lv = 14,
            10000..=12999 => lv = 15,
            13000..=16999 => lv = 16,
            17000..=20999 => lv = 17,
            21000..=25999 => lv = 18,
            26000..=31999 => lv = 19,
            32000..=39999 => lv = 20,
            40000..=49999 => lv = 21,
            50000..=61999 => lv = 22,
            62000..=74999 => lv = 23,
            75000..=89999 => lv = 24,
            90000..=106999 => lv = 25,
            107000..=126999 => lv = 26,
            127000..=149999 => lv = 27,
            150000..=174999 => lv = 28,
            175000..=199999 => lv = 29,
            200000..=229999 => lv = 30,
            230000..=259999 => lv = 31,
            260000..=289999 => lv = 32,
            290000..=319999 => lv = 33,
            320000..=349999 => lv = 34,
            350000..=379999 => lv = 35,
            380000..=409999 => lv = 36,
            410000..=439999 => lv = 37,
            440000..=469999 => lv = 38,
            470000..=499999 => lv = 39,
            500000..=529999 => lv = 40,
            530000..=569999 => lv = 41,
            570000..=619999 => lv = 42,
            620000..=669999 => lv = 43,
            670000..=719999 => lv = 44,
            720000..=769999 => lv = 45,
            770000..=819999 => lv = 46,
            820000..=869999 => lv = 47,
            870000..=919999 => lv = 48,
            920000..=969999 => lv = 49,
            _ => lv = 50,
        }
    }
    match lv {
        // ステータス表示
        1 => st(1, 28, 5, 4, 0, ex),
        2 => st(2, 37, 7, 5, 12, ex),
        3 => st(3, 40, 12, 7, 32, ex),
        4 => st(4, 48, 17, 7, 72, ex),
        5 => st(5, 52, 18, 12, 140, ex),
        6 => st(6, 55, 20, 18, 280, ex),
        7 => st(7, 56, 29, 21, 560, ex),
        8 => st(8, 58, 30, 24, 1000, ex),
        9 => st(9, 58, 33, 24, 1800, ex),
        10 => st(10, 60, 36, 28, 2800, ex),
        11 => st(11, 62, 41, 30, 3900, ex),
        12 => st(12, 63, 44, 33, 5300, ex),
        13 => st(13, 64, 49, 37, 7600, ex),
        14 => st(14, 65, 53, 37, 10000, ex),
        15 => st(15, 68, 55, 41, 13000, ex),
        16 => st(16, 70, 58, 47, 17000, ex),
        17 => st(17, 75, 61, 49, 21000, ex),
        18 => st(18, 78, 66, 49, 26000, ex),
        19 => st(19, 82, 69, 52, 32000, ex),
        20 => st(20, 95, 75, 56, 40000, ex),
        21 => st(21, 101, 81, 59, 50000, ex),
        22 => st(22, 110, 87, 65, 62000, ex),
        23 => st(23, 119, 91, 66, 75000, ex),
        24 => st(24, 125, 94, 70, 90000, ex),
        25 => st(25, 134, 99, 70, 107000, ex),
        26 => st(26, 142, 103, 73, 127000, ex),
        27 => st(27, 153, 107, 79, 150000, ex),
        28 => st(28, 163, 112, 82, 175000, ex),
        29 => st(29, 170, 116, 86, 200000, ex),
        30 => st(30, 173, 121, 88, 230000, ex),
        31 => st(31, 178, 127, 90, 260000, ex),
        32 => st(32, 180, 130, 91, 290000, ex),
        33 => st(33, 188, 131, 91, 320000, ex),
        34 => st(34, 190, 133, 93, 350000, ex),
        35 => st(35, 192, 134, 95, 380000, ex),
        36 => st(36, 197, 136, 96, 410000, ex),
        37 => st(37, 200, 138, 98, 440000, ex),
        38 => st(38, 201, 141, 100, 470000, ex),
        39 => st(39, 205, 142, 102, 500000, ex),
        40 => st(40, 206, 143, 105, 530000, ex),
        41 => st(41, 210, 145, 107, 570000, ex),
        42 => st(42, 211, 146, 109, 620000, ex),
        43 => st(43, 215, 149, 110, 670000, ex),
        44 => st(44, 215, 150, 112, 720000, ex),
        45 => st(45, 220, 150, 115, 770000, ex),
        46 => st(46, 221, 151, 120, 820000, ex),
        47 => st(47, 222, 152, 123, 870000, ex),
        48 => st(48, 229, 155, 130, 920000, ex),
        49 => st(49, 235, 156, 132, 970000, ex),
        _  => st(50, 240, 160, 140, 1000000, ex),
    }
    fn st(l: i32, h: i32, r: i32, s: i32, e: i32, ex: i32) {
        // 表示処理
        println!(
            "[ロLv{}] HP:{} MP:0 力:{} 早:{} EX:{}(あと{})",
            l,
            h,
            r,
            s,
            e,
            e - ex
        )
    }
}
fn sa(ex: i32, lv: i32) {
    // 経験値からLVとステータスと残りのEXを表示
    let mut lv = lv;
    if lv == 0 {
        // EX指定なら次レベルを判定
        match ex {
            0..=23 => lv = 2,
            24..=59 => lv = 3,
            60..=109 => lv = 4,
            110..=199 => lv = 5,
            200..=379 => lv = 6,
            380..=699 => lv = 7,
            700..=1299 => lv = 8,
            1300..=2399 => lv = 9,
            2400..=3999 => lv = 10,
            4000..=5999 => lv = 11,
            6000..=8199 => lv = 12,
            8200..=10999 => lv = 13,
            11000..=14999 => lv = 14,
            15000..=18999 => lv = 15,
            19000..=23999 => lv = 16,
            24000..=29999 => lv = 17,
            30000..=36999 => lv = 18,
            37000..=45999 => lv = 19,
            46000..=56999 => lv = 20,
            57000..=69999 => lv = 21,
            70000..=84999 => lv = 22,
            85000..=99999 => lv = 23,
            100000..=115999 => lv = 24,
            116000..=133999 => lv = 25,
            134000..=155999 => lv = 26,
            156000..=181999 => lv = 27,
            182000..=209999 => lv = 28,
            210000..=239999 => lv = 29,
            240000..=279999 => lv = 30,
            280000..=309999 => lv = 31,
            310000..=339999 => lv = 32,
            340000..=379999 => lv = 33,
            380000..=429999 => lv = 34,
            430000..=479999 => lv = 35,
            480000..=519999 => lv = 36,
            520000..=579999 => lv = 37,
            580000..=639999 => lv = 38,
            640000..=699999 => lv = 39,
            700000..=759999 => lv = 40,
            760000..=819999 => lv = 41,
            820000..=839999 => lv = 42,
            840000..=899999 => lv = 43,
            900000..=959999 => lv = 44,
            _ => lv = 45,
        }
    }
    match lv {
        // ステータス表示
        1 => sts(1, 31, 6, 4, 4, "ホイミ", 0, ex),
        2 => sts(2, 34, 12, 4, 7, "", 24, ex),
        3 => sts(3, 35, 16, 6, 9, "ギラ", 60, ex),
        4 => sts(4, 38, 18, 7, 11, "", 110, ex),
        5 => sts(5, 40, 20, 7, 15, "", 200, ex),
        6 => sts(6, 42, 22, 8, 19, "キアリー", 380, ex),
        7 => sts(7, 42, 27, 9, 21, "", 700, ex),
        8 => sts(8, 44, 32, 15, 21, "マホトーン", 1300, ex),
        9 => sts(9, 45, 34, 15, 28, "", 2400, ex),
        10 => sts(10, 47, 38, 16, 32, "ルーラ", 4000, ex),
        11 => sts(11, 50, 40, 17, 36, "", 6000, ex),
        12 => sts(12, 52, 43, 19, 36, "リレミト", 8200, ex),
        13 => sts(13, 54, 45, 27, 43, "", 11000, ex),
        14 => sts(14, 59, 48, 30, 48, "ベホイミ", 15000, ex),
        15 => sts(15, 63, 50, 34, 48, "", 19000, ex),
        16 => sts(16, 65, 54, 39, 55, "", 24000, ex),
        17 => sts(17, 69, 62, 39, 57, "トラマナ", 30000, ex),
        18 => sts(18, 72, 65, 40, 60, "ベギラマ", 37000, ex),
        19 => sts(19, 79, 68, 41, 66, "", 46000, ex),
        20 => sts(20, 83, 68, 43, 69, "スクルト", 57000, ex),
        21 => sts(21, 87, 76, 45, 73, "", 70000, ex),
        22 => sts(22, 91, 77, 47, 77, "", 85000, ex),
        23 => sts(23, 99, 83, 48, 79, "ザラキ", 100000, ex),
        24 => sts(24, 106, 87, 50, 82, "", 116000, ex),
        25 => sts(25, 113, 91, 51, 82, "ザオリク", 134000, ex),
        26 => sts(26, 125, 91, 53, 85, "", 156000, ex),
        27 => sts(27, 138, 94, 54, 93, "", 182000, ex),
        28 => sts(28, 143, 99, 58, 93, "メガンテ", 210000, ex),
        29 => sts(29, 152, 105, 65, 99, "", 240000, ex),
        30 => sts(30, 153, 108, 68, 100, "", 280000, ex),
        31 => sts(31, 159, 112, 70, 102, "", 310000, ex),
        32 => sts(32, 160, 115, 70, 105, "", 340000, ex),
        33 => sts(33, 161, 118, 80, 107, "", 380000, ex),
        34 => sts(34, 163, 120, 85, 108, "", 430000, ex),
        35 => sts(35, 165, 125, 92, 110, "", 480000, ex),
        36 => sts(36, 168, 125, 100, 113, "", 520000, ex),
        37 => sts(37, 171, 128, 109, 113, "", 580000, ex),
        38 => sts(38, 176, 130, 115, 117, "", 640000, ex),
        39 => sts(39, 180, 137, 115, 120, "", 700000, ex),
        40 => sts(40, 182, 140, 120, 120, "", 760000, ex),
        41 => sts(41, 190, 142, 122, 125, "", 820000, ex),
        42 => sts(42, 190, 145, 130, 131, "", 840000, ex),
        43 => sts(43, 194, 149, 131, 133, "", 900000, ex),
        44 => sts(44, 196, 155, 135, 138, "", 960000, ex),
        _  => sts(45, 200, 160, 140, 140, "", 1000000, ex),
    }
    fn sts(l: i32, h: i32, m: i32, r: i32, s: i32, j: &str, e: i32, ex: i32) {
        // 表示処理
        println!(
            "[サLv{}] HP:{} MP:{} 力:{} 早:{} {} EX:{}(あと{})",
            l,
            h,
            m,
            r,
            s,
            j,
            e,
            e - ex
        )
    }
}
fn mu(ex: i32, lv: i32) {
    // 経験値からLVとステータスと残りのEXを表示
    let mut lv = lv;
    if lv == 0 {
        // EX指定なら次レベルを判定
        match ex {
            0..=99 => lv = 2,
            100..=299 => lv = 3,
            300..=599 => lv = 4,
            600..=1199 => lv = 5,
            1200..=2399 => lv = 6,
            2400..=4199 => lv = 7,
            4200..=6399 => lv = 8,
            6400..=8999 => lv = 9,
            9000..=11999 => lv = 10,
            12000..=15999 => lv = 11,
            16000..=19999 => lv = 12,
            20000..=24999 => lv = 13,
            25000..=30999 => lv = 14,
            31000..=38999 => lv = 15,
            39000..=49999 => lv = 16,
            50000..=64999 => lv = 17,
            65000..=82999 => lv = 18,
            83000..=102999 => lv = 19,
            103000..=124999 => lv = 20,
            125000..=149999 => lv = 21,
            150000..=179999 => lv = 22,
            180000..=219999 => lv = 23,
            220000..=269999 => lv = 24,
            270000..=299999 => lv = 25,
            300000..=329999 => lv = 26,
            330000..=359999 => lv = 27,
            360000..=399999 => lv = 28,
            400000..=449999 => lv = 29,
            450000..=539999 => lv = 30,
            540000..=629999 => lv = 31,
            630000..=729999 => lv = 32,
            730000..=819999 => lv = 33,
            820000..=909999 => lv = 34,
            _ => lv = 35,
        }
    }
    match lv {
        // ステータス表示
        1 => stm(1, 32, 28, 2, 22, "ベホイミ", 0, ex),
        2 => stm(2, 32, 28, 2, 26, "ラリホー", 100, ex),
        3 => stm(3, 37, 35, 2, 26, "", 300, ex),
        4 => stm(4, 37, 44, 3, 28, "バギ", 600, ex),
        5 => stm(5, 38, 48, 3, 33, "", 1200, ex),
        6 => stm(6, 39, 48, 4, 40, "マヌーサ", 2400, ex),
        7 => stm(7, 40, 50, 5, 42, "", 4200, ex),
        8 => stm(8, 45, 52, 6, 47, "トヘロス", 6400, ex),
        9 => stm(9, 50, 58, 7, 50, "", 9000, ex),
        10 => stm(10, 56, 63, 8, 55, "ルカナン", 12000, ex),
        11 => stm(11, 58, 69, 8, 56, "", 16000, ex),
        12 => stm(12, 59, 71, 9, 58, "キアリー", 20000, ex),
        13 => stm(13, 62, 75, 10, 63, "", 25000, ex),
        14 => stm(14, 68, 80, 11, 69, "", 31000, ex),
        15 => stm(15, 75, 86, 12, 72, "ベホマ", 39000, ex),
        16 => stm(16, 80, 98, 15, 78, "", 50000, ex),
        17 => stm(17, 89, 110, 17, 81, "リレミト", 65000, ex),
        18 => stm(18, 97, 119, 18, 85, "", 83000, ex),
        19 => stm(19, 105, 128, 20, 87, "イオナズン", 103000, ex),
        20 => stm(20, 112, 135, 20, 96, "", 125000, ex),
        21 => stm(21, 124, 138, 23, 100, "", 150000, ex),
        22 => stm(22, 133, 140, 25, 110, "", 180000, ex),
        23 => stm(23, 140, 151, 29, 117, "トラマナ", 220000, ex),
        24 => stm(24, 145, 158, 33, 117, "", 270000, ex),
        25 => stm(25, 146, 163, 35, 120, "アバカム", 300000, ex),
        26 => stm(26, 150, 172, 36, 123, "", 330000, ex),
        27 => stm(27, 151, 179, 36, 128, "", 360000, ex),
        28 => stm(28, 152, 184, 37, 132, "", 400000, ex),
        29 => stm(29, 159, 185, 40, 135, "", 450000, ex),
        30 => stm(30, 160, 190, 42, 140, "", 540000, ex),
        31 => stm(31, 166, 191, 48, 142, "", 630000, ex),
        32 => stm(32, 168, 192, 52, 145, "", 730000, ex),
        33 => stm(33, 170, 199, 56, 151, "", 820000, ex),
        34 => stm(34, 171, 205, 60, 154, "", 910000, ex),
        _  => stm(35, 180, 210, 70, 160, "", 1000000, ex),
    }
    fn stm(l: i32, h: i32, m: i32, r: i32, s: i32, j: &str, e: i32, ex: i32) {
        // 表示処理
        println!(
            "[ムLv{}] HP:{} MP:{} 力:{} 早:{} {} EX:{}(あと{})",
            l,
            h,
            m,
            r,
            s,
            j,
            e,
            e - ex
        )
    }
}
fn jumon() {
    println!("<呪文名>　|LV　　　|MP|効果
ホイミ　　|サ1 　　| 3|HP19-43回復
ベホイミ　|サ14 ム1| 5|HP28-66回復
ベホマ　　|ム15　　| 8|HP全回復
キアリー　|サ6 ム12| 3|毒を治療
ザオリク　|サ25　　|15|HP1で蘇らせる

<呪文名>　|LV　　　|MP|効果
ギラ　　　|サ3 　　| 2|敵1にダメ12-28
ベギラマ　|サ18　　| 4|敵全にダメ13-34
バギ　　　|ム4 　　| 4|敵グにダメ16-34
イオナズン|ム19　　| 8|敵全にダメ41-91
ザラキ　　|サ23　　| 4|敵グの息の根を止める
メガンテ　|サ28　　| 1|敵全消滅(自死/EXとGは0)

<呪文名>　|LV　　　|MP|効果
ラリホー　|ム2 　　| 2|敵グを眠らせる
マヌーサ　|ム6 　　| 2|敵グの打撃命中率を下げる
マホトーン|ム8 　　| 3|敵グの呪文を封じる
ルカナン　|ム10　　| 2|敵グの守備力を下げる
スクルト　|サ20　　| 2|味方全員の守備力を上げる(重ね掛け可)

<呪文名>　|LV　　　|MP|効果
ルーラ　　|サ10　　| 6|最後に冒険の書を記録した場所へ飛ぶ(ダンジョン不可)
リレミト　|サ12ム17| 6|ダンジョンから外へ出る
トヘロス　|ム8 　　| 2|フィールドでの自分より低レベルな敵の出現を防ぐ
トラマナ　|サ17ム23| 4|ダメージ床から出るまでの間､ダメージを防ぐ
アバカム　|ム25　　| 2|カギのかかった扉を開ける");
}
fn buki() {
    println!("<武器名>　　　|攻|価格 |売値 |装備者|効果
ひのきのぼう　| 2| --- |   15|ロサム|
はやぶさのけん| 5|25000|18750|ロサ　|2回攻撃をする
こんぼう　　　| 8|   60|   45|ロサ　|
まどうしのつえ| 8| 2500| 1875|ロサム|ギラの効果
どうのつるぎ　|10|  100|   75|ロサ　|
せいなるナイフ|12|  200|  150|ロサム|
くさりがま　　|15|  390|  293|ロサ　|
いかずちのつえ|15| --- |19500|ロサム|敵グにダメ25
てつのやり　　|20|  770|  578|ロサ　|
はがねのつるぎ|30| 1500| 1125|ロ　　|
おおかなづち　|35| 4000| 3000|ロ　　|
ロトのつるぎ　|40| --- |    2|ロ　　|
ドラゴンキラー|50| 8000| 6000|ロ　　|
ひかりのつるぎ|65|16000|12000|ロ　　|マヌーサの効果
いなずまのけん|80| --- |  375|ロ　　|敵グにダメ25
はかいのつるぎ|93| --- |11250|ロ　　|");
}
fn bougu() {
    println!("<鎧名>　　　　|防|価格 |売値 |装備者|効果
ぬののふく　　| 2| --- |   23|ロサム|
かわのよろい　| 6| --- |  113|ロサ　|
くさりかたびら|12|  480|  360|ロサ　|
みかわしのふく|20| 1250|  938|ロサム|打撃攻撃の回避率アップ
はがねのよろい|25| 1000|  750|ロ　　|
まほうのよろい|25| 4300| 3225|ロサ　|呪文ダメ軽減
ミンクのコート|30|65000|48750|ロサム|
ガイアのよろい|35| --- |   38|ロ　　|
みずのはごろも|35| --- |   53|ロサム|炎系ダメ軽減 床ダメ無効
ロトのよろい　|40| --- |    3|ロ　　|床ダメ無効
あくまのよろい|50| --- | 4800|ロサ　|

<盾兜名>　　　|防|価格 |売値 |装備者|効果
かわのたて　　| 4|   90|   68|ロサ　|
はがねのたて　|10| 2000| 1500|ロ　　|
ちからのたて　|18|21500|16125|ロサ　|ベホイミの効果(戦闘時)
ロトのたて　　|20| --- |   15|ロ　　|
しにがみのたて|30| --- | 6600|ロ　　|

てつかぶと　　| 4| 3150| 2363|ロ　　|
ふしぎなぼうし| 6| --- |15000|ロサム|消費MPを3/4に軽減
ロトのかぶと　|20|   53| --- |ロ　　|");
}
fn dougu() {
    println!(
        "<道具名>　　　|価格|売値|効果
やくそう　　　|　15|　11|HP20-30回復
どくけしそう　|　 8|　 6|毒を治療
せいすい　　　|　40|　30|フィールドでの自分より低レベルな敵の出現を防ぐ
キメラのつばさ|　80|　60|最後に冒険の書を記録した場所へ飛ぶ(ダンジョン不可)
ふくびきけん　| -- |　53|福引所で福引ができる
せかいじゅのは| -- |　 5|仲間を蘇らせる
いのりのゆびわ| -- |1950|MPを20-27回復(たまに壊れる)
ゴールドカード| -- | 375|3/4の価格で買い物できる
すいもんのカギ| -- | -- |水門を開ける
ぎんのカギ　　| -- |   2|銀の扉を開ける
きんのカギ　　| -- |   2|金の扉を開ける
ろうやのカギ　|2000|1500|牢屋の扉を開ける
ふっかつのたま| -- |7500|パスワードを聞ける

<装飾品名>　　|価格|売値|効果
まよけのすず　| 640| 480|敵の補助呪文にかかりにくくなる
あくまのしっぽ| -- |1125|呪われる(敵の呪文が必ず利くようになる)

<イベント道具>|売値
ラーのかがみ　| -- 
かぜのマント　|　53
ふねのざいほう| --
やまびこのふえ| 300
ロトのしるし　|　 7
あまつゆのいと|　30
せいなるおりき|　23
つきのかけら　| 225
じゃしんのぞう| --
ルビスのまもり| --");
}
